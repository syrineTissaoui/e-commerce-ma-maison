<main class="max-w-7xl mx-auto px-4 lg:px-8 py-6">
    
    <div class="mb-6">
        <h1 class="text-3xl font-extrabold text-soft-blue border-l-4 border-soft-red pl-3">PC Portables</h1>
        <p class="text-gray-500 text-sm mt-1">Accueil / Catégories / PC Portables ({{ laptopProducts.length }} produits)</p>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
        
        <aside class="lg:col-span-1 bg-white p-6 rounded-xl shadow-lg h-fit">
            <h2 class="text-xl font-bold text-soft-blue mb-4">Filtrer les résultats</h2>

            <div class="mb-5 border-b border-gray-200 pb-4">
                <label for="brand-filter" class="block text-sm font-semibold text-gray-700 mb-2">Marque</label>
                <select id="brand-filter" 
                        (change)="onFilterChange($event, 'brand')"
                        class="w-full border border-gray-300 rounded-lg p-2 text-sm focus:ring-soft-blue focus:border-soft-blue">
                    <option value="all">Toutes les marques</option>
                    <option value="ASUS">ASUS</option>
                    <option value="DELL">DELL</option>
                    <option value="HP">HP</option>
                    <option value="LENOVO">LENOVO</option>
                </select>
            </div>

            <div class="mb-5 border-b border-gray-200 pb-4">
                <p class="text-sm font-semibold text-gray-700 mb-2">Processeur</p>
                <div class="space-y-2">
                    <label class="flex items-center text-sm text-gray-600">
                        <input type="checkbox" class="rounded text-soft-blue focus:ring-soft-blue mr-2"> Intel Core i9
                    </label>
                    <label class="flex items-center text-sm text-gray-600">
                        <input type="checkbox" class="rounded text-soft-blue focus:ring-soft-blue mr-2"> Intel Core i7
                    </label>
                    <label class="flex items-center text-sm text-gray-600">
                        <input type="checkbox" class="rounded text-soft-blue focus:ring-soft-blue mr-2"> AMD Ryzen 7
                    </label>
                </div>
            </div>

            <button class="w-full py-2 bg-gray-100 text-gray-700 rounded-lg font-semibold hover:bg-gray-200 transition">
                <i class="fa-solid fa-undo mr-2"></i> Réinitialiser les filtres
            </button>
        </aside>

        <section class="lg:col-span-3">
            
            <div class="flex justify-end items-center mb-6 bg-white p-3 rounded-xl shadow-md">
                <label for="sort-by" class="text-sm text-gray-600 mr-2 font-medium">Trier par :</label>
                <select id="sort-by" 
                        [ngModel]="sortBy" 
                        (change)="onFilterChange($event, 'sort')"
                        class="border border-gray-300 rounded-lg p-2 text-sm focus:ring-soft-blue focus:border-soft-blue">
                    <option value="price_desc">Prix : Du plus cher au moins cher</option>
                    <option value="price_asc">Prix : Du moins cher au plus cher</option>
                    <option value="newest">Nouveauté</option>
                    <option value="rating">Meilleures notes</option>
                </select>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6">
                <app-product-card *ngFor="let product of laptopProducts" [product]="product"></app-product-card>
            </div>

            <div *ngIf="laptopProducts.length === 0" class="text-center py-10 bg-white rounded-xl shadow-lg">
                <i class="fa-solid fa-box-open text-4xl text-gray-400 mb-4"></i>
                <p class="text-xl text-gray-700 font-semibold">Aucun PC portable trouvé pour cette recherche.</p>
                <p class="text-gray-500 mt-2">Veuillez ajuster vos filtres.</p>
            </div>

            <div class="mt-8 flex justify-center">
                <nav class="flex space-x-2">
                    <button class="px-4 py-2 bg-soft-blue text-white rounded-lg hover:bg-soft-hover">1</button>
                    <button class="px-4 py-2 bg-white text-gray-700 rounded-lg hover:bg-gray-100 border">2</button>
                    <button class="px-4 py-2 bg-white text-gray-700 rounded-lg hover:bg-gray-100 border">3</button>
                    <span class="px-4 py-2 text-gray-500">...</span>
                </nav>
            </div>
        </section>
    </div>
</main>